@if (product) {
<section class="edit">
  <!-- Header -->
  <header class="header">
    <button class="back" (click)="close()">‚Üê</button>
    <h2>Edit product</h2>
  </header>

  <!-- Form -->
  <div class="form">
    <label>
      Name
      <input
        type="text"
        [value]="product.name"
        (input)="product.name = $any($event.target).value"
      />
    </label>
    <label>
      Category
      <select
        [value]="product.categoryId"
        (change)="updateCategory($any($event.target).value)"
      >
        @for (c of categories; track c.id) {
        <option [value]="c.id" [selected]="c.id === product.categoryId">
          {{ c.icon }} {{ c.name }}
        </option>
        }
      </select>
    </label>

    <label>
      Quantity
      <input
        type="number"
        min="0"
        [value]="product.quantity"
        (input)="product.quantity = +$any($event.target).value"
      />
    </label>

    <label>
      Expiration date
      <input
        type="date"
        [value]="product.expiryDate"
        (input)="product.expiryDate = $any($event.target).value"
      />
    </label>


    <!-- Actions -->
    <div class="actions">
      <button class="save" [disabled]="product.name.trim().length < 3" (click)="save()">Save</button>
      <button class="delete" (click)="remove()">Remove</button>
    </div>
  </div>
</section>
}
